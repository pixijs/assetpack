---
sidebar_position: 4
---

import { ImageToggle } from '@site/src/components/ImageToggle';

# Compression

The compress plugin uses the Sharp library to compress images into different formats, such as JPEG, PNG, WebP, and AVIF. This helps reduce file sizes while maintaining image quality, ensuring faster load times and better performance.
This plugin also supports compressing images using the ASTC, ETC, ETC2, BCn (DXTn) and Basis supercompressed (ETC1S, UASTC) texture compression standard.

## Example

<ImageToggle image={'compress/compress'} height={350} />

```js
import { compress } from "@assetpack/core/image";

export default {
  ...
  pipes: [
    ...
    // these options are the default values, all options shown here are optional
    compress({
      jpg: {},
      png: { quality: 90 },
      webp: { quality: 80, alphaQuality: 80, },
      avif: false,
      bc7: false,
      astc: false,
      basis: false,
      etc: false
    }),
  ]
};
```

## API

| Option | Type              | Description                                                                                                                                                |
| ------ | ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| jpg    | `object \| false \| 'omit'` | Any settings supported by [sharp jpeg](https://sharp.pixelplumbing.com/api-output#jpeg). If `omit` is specified, the original image will not be included in the output. |
| png    | `object \| false \| 'omit'` | Any settings supported by [sharp png](https://sharp.pixelplumbing.com/api-output#png). If `omit` is specified, the original image will not be included in the output. |
| webp   | `object \| false` | Any settings supported by [sharp webp](https://sharp.pixelplumbing.com/api-output#webp).                                                                   |
| avif   | `object \| false` | Any settings supported by [sharp avif](https://sharp.pixelplumbing.com/api-output#avif). <br /> Defaults to `false`.                                       |
| bc7    | `object \| false` | Any settings supported by [bc7](https://github.com/ddenisyuk/gpu-tex-enc/blob/main/packages/%40gpu-tex-enc/bc/README.md). <br /> Defaults to `false`.      |
| astc   | `object \| false` | Any settings supported by [astc](https://github.com/ddenisyuk/gpu-tex-enc/blob/main/packages/%40gpu-tex-enc/astc/README.md). <br /> Defaults to `false`.   |
| basis  | `object \| false` | Any settings supported by [basis](https://github.com/ddenisyuk/gpu-tex-enc/blob/main/packages/%40gpu-tex-enc/basis/README.md). <br /> Defaults to `false`. |
| etc  | `object \| false` | Any settings supported by [etc](https://github.com/ddenisyuk/gpu-tex-enc/blob/main/packages/%40gpu-tex-enc/etc/README.md). <br /> Defaults to `false`. |

## Tags

| Tag  | Folder/File | Description                                     |
| ---- | ----------- | ----------------------------------------------- |
| `nc` | `both`      | If present the image(s) will not be compressed. |

### Example

<ImageToggle image={'compress/compress-off'} height={350} />
